# Сервис аутентификации (Тестовое задание)

## Описание
Реализация сервиса аутентификации с JWT-токенами и refresh-токенами согласно техническому заданию.

## Выполненные требования

### Общие требования
- [x] Использование технологий: Go, PostgreSQL, Docker
- [x] Запуск одной командой: `docker-compose -f docker-compose.yml up -d`
- [x] Работа с дефолтными настройками из `.env`

### Реализованные endpoints
1. **Получение пары токенов**
   - Путь: `POST /auth/token`
   - Принимает GUID пользователя
   - Возвращает access и refresh токены

2. **Обновление пары токенов**  
   - Путь: `POST /auth/refresh`
   - Принимает refresh токен
   - Возвращает новую пару токенов

3. **Получение GUID пользователя**  
   - Путь: `GET /auth/me`

4. **Деавторизация**  
   - Путь: `POST /auth/logout`
   - Отзывает текущий access токен и все связанные refresh токены

### Требования к токенам
**Access токен:**
- [x] Формат JWT
- [x] Алгоритм подписи HS512 (HMAC + SHA512)
- [x] Не хранится в базе данных

**Refresh токен:**
- [x] Произвольный формат
- [x] Передача в base64
- [x] Хранение в виде bcrypt-хеша
- [x] Защита от повторного использования
- [x] Защита от изменений клиентом

### Требования к операции refresh
- [x] Обновление только для парных токенов
- [x] Проверка User-Agent (при изменении - деавторизация)
- [x] Отправка webhook при смене IP
- [x] Swagger-документация с примерами запросов/ответов

### Проблемы

- [x] Почти нет проверок на входные данные на endpoints (и не только)
- [x] SQL инъекции 
